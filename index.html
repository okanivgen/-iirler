<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Åžairler KonuÅŸsun â€” AÅŸk DÃ¶rtlÃ¼kleri</title>
<style>
  :root{
    --bg:#fffaf8;
    --accent:#c21b3a;
    --muted:#444;
  }
  html,body{height:100%;margin:0;padding:0;background:var(--bg);font-family: "Helvetica Neue", Arial, sans-serif;color:var(--muted);}
  /* full ekran dÃ¼zeni */
  .wrap{min-height:100%;display:flex;flex-direction:column;align-items:center;gap:12px;padding:28px 16px;}
  header{text-align:center;max-width:900px;}
  h1{margin:8px 0;font-size:22px;color:var(--accent);}
  .lead{font-size:18px;color:#222;max-width:960px;margin:6px auto 0;}
  /* arka plan kalpler (kÃ¼Ã§Ã¼k tekrar eden) */
  .bg-hearts{
    position:fixed; inset:0; pointer-events:none; z-index:0; overflow:hidden;
  }
  .heart {
    position:absolute;
    width:12px;
    height:12px;
    transform:rotate(-45deg);
    background:var(--accent);
    border-radius:2px;
    opacity:0.9;
    will-change:transform,opacity;
  }
  .heart::before,.heart::after{
    content:""; position:absolute; width:12px; height:12px; background:var(--accent); border-radius:50%;
  }
  .heart::before{ top:-6px; left:0; }
  .heart::after{ left:6px; top:0; }

  /* iÃ§erik kartÄ± */
  .card{position:relative;z-index:2;width:100%;max-width:820px;background:linear-gradient(180deg,#fff,#fff6f6);border-radius:14px;padding:20px;box-shadow:0 10px 30px rgba(0,0,0,0.08);border:1px solid rgba(194,27,58,0.08);}
  .poem-box{min-height:140px;border-radius:10px;padding:18px;background:#fff7f7;border:1px solid rgba(194,27,58,0.12);font-style:italic;font-size:18px;line-height:1.6;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;white-space:pre-line;color:#222;}
  .poet{margin-top:10px;font-weight:700;color:var(--accent);}
  .controls{display:flex;gap:12px;align-items:center;justify-content:center;margin-top:14px;}
  button{background:var(--accent);color:#fff;border:0;padding:12px 20px;border-radius:10px;font-size:16px;cursor:pointer;box-shadow:0 8px 20px rgba(194,27,58,0.14);}
  button:disabled{background:#ccc;color:#666;cursor:not-allowed;box-shadow:none;}
  .meta{font-size:14px;color:#666;margin-top:8px;}
  .note{margin-top:12px;background:#fff3bf;border:2px solid #ffcc00;padding:10px;border-radius:8px;font-weight:700;color:#222;display:inline-block;}
  @media (max-width:520px){
    h1{font-size:18px;}
    .lead{font-size:15px;}
    .poem-box{font-size:16px;padding:14px;}
    button{padding:10px 16px;font-size:15px;}
  }
</style>
</head>
<body>
  <div class="bg-hearts" id="bgHearts"></div>

  <div class="wrap">
    <header>
      <h1>Seni ne kadar sevdiÄŸimi aÃ§Ä±klamaya benim kelimelerim yetmiyor â€” bÄ±rakalÄ±m ÅŸairlerimiz konuÅŸsun</h1>
      <div class="lead">AÅŸaÄŸÄ±daki butona bas; eski TÃ¼rk ÅŸiir geleneÄŸinin ruhunda hazÄ±rlanmÄ±ÅŸ dÃ¶rtlÃ¼kler karÅŸÄ±na Ã§Ä±kacak. Her biri bir nefes, bir an, bir sevda.</div>
    </header>

    <div class="card" role="main" aria-live="polite">
      <div id="poemBox" class="poem-box">Butona bas ve dÃ¶rtlÃ¼ÄŸÃ¼ gÃ¶r â€” her biri klasik Ã¼slupta Ã¶zgÃ¼n dÃ¶rtlÃ¼klerdir.</div>
      <div id="poetName" class="poet" aria-hidden="true"></div>

      <div class="controls">
        <button id="btnShow">BAS</button>
        <div class="meta">Kalan hakkÄ±n: <span id="remaining">5</span> / 5</div>
      </div>

      <div style="text-align:center;margin-top:12px;">
        <div class="note">Not: Åžiirler klasik TÃ¼rk ÅŸiiri Ã¼slubunda Ã¶zgÃ¼n olarak hazÄ±rlandÄ±; gerÃ§ek tarihÃ® alÄ±ntÄ± deÄŸildir.</div>
      </div>
    </div>
  </div>

<script>
/* ---------- Arka plan kalpleri oluÅŸtur (hafif ve performans dostu) ---------- */
(function createHearts(){
  const container = document.getElementById('bgHearts');
  const count = Math.min(Math.max(Math.floor(window.innerWidth * window.innerHeight / 60000), 20), 80); // ekran Ã¶lÃ§eÄŸine gÃ¶re
  for(let i=0;i<count;i++){
    const el = document.createElement('div');
    el.className = 'heart';
    const left = Math.random()*100;
    const top = Math.random()*100;
    const scale = 0.6 + Math.random()*1.2;
    el.style.left = left + 'vw';
    el.style.top = top + 'vh';
    el.style.transform = `rotate(-45deg) scale(${scale})`;
    el.style.opacity = 0.6 + Math.random()*0.4;
    // anim param
    const dur = 4000 + Math.random()*6000;
    const delay = -Math.random()*dur;
    el.animate([
      { transform: `translateY(0px) rotate(-45deg) scale(${scale})`, opacity: el.style.opacity },
      { transform: `translateY(-12px) rotate(-45deg) scale(${scale*1.05})`, opacity: 0.9 },
      { transform: `translateY(0px) rotate(-45deg) scale(${scale})`, opacity: el.style.opacity }
    ], { duration: dur, iterations: Infinity, delay });
    container.appendChild(el);
  }
})();

/* ---------- Åžiir Ã¼retim mantÄ±ÄŸÄ± ve localStorage yÃ¶netimi ----------
   - Sayfa ilk aÃ§Ä±ldÄ±ÄŸÄ±nda 'poems_klassik' anahtarÄ±nda 200 dÃ¶rtlÃ¼k yoksa Ã¼ret, kaydet.
   - Her basÄ±ÅŸta rastgele bir dÃ¶rtlÃ¼k gÃ¶ster.
   - daily limit: 5, anahtarlar: poem_day_v2, poem_used_v2
   - Åžiirler Ã¶zgÃ¼n, klasik Ã¼slup kombinasyonlarÄ±yla oluÅŸturulur (telif riski yaratmamak iÃ§in gerÃ§ek ÅŸair alÄ±ntÄ±sÄ± deÄŸil).
------------------------------------------------------------------- */

const STORAGE_POEMS = "poems_klassik_v1";
const STORAGE_DAY = "poem_day_v2";
const STORAGE_USED = "poem_used_v2";
const MAX_DAILY = 5;
const POEM_COUNT = 200;

/* satÄ±r havuzlarÄ± - klasik Ã¼slup iÃ§in zengin havuzlar */
const S1 = [
  "Geceler sensiz Ã§Ã¶ker, bir hÃ¼zÃ¼n taÅŸÄ±r gÃ¶ÄŸÃ¼",
  "AdÄ±n dÃ¼ÅŸer dudaklarÄ±ma, bahar aÃ§ar gÃ¶nlÃ¼mde",
  "GÃ¶zlerinle baÅŸlar gÃ¼nÃ¼m, her Ã¶mÃ¼r adÄ±nla dolar",
  "Kalbim seninle atar, her vuruÅŸ bir dua olur",
  "Bir tebessÃ¼mÃ¼n yeter, bÃ¼tÃ¼n kÄ±ÅŸlar gÃ¼neÅŸ olur",
  "Sana dair her sÃ¶z, ruhuma bir ÅŸarkÄ± olur",
  "Sensiz geÃ§en anlar, boÅŸ bir kervan gibi",
  "Ellerin dokununca, zaman bile susar",
  "Ruhum sana Ã§ekildi, yollar sana dÃ¶ner",
  "AdÄ±nÄ± yazdÄ±m geceye, yÄ±ldÄ±zlar ÅŸahit oldu",
  "GÃ¶nlÃ¼mde aÃ§an gÃ¼ller, yalnÄ±z senin adÄ±nla",
  "Sana bakÄ±nca dÃ¼nya tekrar Ã§iÃ§ek aÃ§ar",
  "Hasretin dÃ¼ÅŸlerimde bir ateÅŸ gibi yanar",
  "GÃ¶zlerinin denizinde kayboldum usul usul",
  "Sevdan iÃ§imde bÃ¼yÃ¼r, yaz bitmez bir bahar gibi",
  "Senle baÅŸlar her sabah, senle biter her gece",
  "Yollar seni sÃ¶yler bana, rÃ¼zgÃ¢r ismini taÅŸÄ±r",
  "Bir nazÄ±n yeter bana, Ã¶mÃ¼r boyu meskenim",
  "DudaklarÄ±n dua olur, her gece dilimde",
  "Senin adÄ±nla Ä±sÄ±nÄ±r, en soÄŸuk kalpler bile"
];

const S2 = [
  "bir nazlÄ± gamzenin gÃ¶lgesinde",
  "aynÄ± gÃ¶kyÃ¼zÃ¼ne yazÄ±lÄ± satÄ±rlarda",
  "gÃ¶nlÃ¼mÃ¼n en saklÄ± kÃ¶ÅŸesinde",
  "her nefeste bir umutla",
  "rÃ¼zgÃ¢rÄ±n fÄ±sÄ±ldadÄ±ÄŸÄ± sÄ±r gibi",
  "ay Ä±ÅŸÄ±ÄŸÄ±nÄ±n dÃ¼ÅŸtÃ¼ÄŸÃ¼ mendilde",
  "gÃ¼n doÄŸarken dÃ¼ÅŸlerimde",
  "suskun gecelerin ÅŸarkÄ±sÄ±nda",
  "baharÄ±n ilk Ã§iÃ§eÄŸinde",
  "karanlÄ±kta parlayan bir yÄ±ldÄ±z gibi",
  "yÄ±ldÄ±zlarla sÃ¼zÃ¼len bir melodi gibi",
  "dudaklarÄ±ndan dÃ¶kÃ¼len adÄ±nla",
  "ellerimde Ä±lÄ±k bir hatÄ±ra gibi",
  "gizli bir sevdanÄ±n nakÄ±ÅŸÄ± gibi",
  "gÃ¶zyaÅŸlarÄ±mÄ±n en tatlÄ± sebebi gibi",
  "dillerde dolaÅŸan eski bir masal gibi",
  "rÃ¼yalarÄ±n en nazlÄ± kÃ¶ÅŸesinde",
  "zamanÄ±n unuttuÄŸu o ilk anda",
  "yÃ¼reÄŸimde saklÄ± bir Ã§iÃ§ek misali",
  "sonsuz bir dÃ¼ÅŸÃ¼n kÄ±yÄ±sÄ±nda"
];

const S3 = [
  "gÃ¶nlÃ¼m tekrar can bulur",
  "bir ÅŸarkÄ± sÃ¶yler usul usul",
  "her anÄ±m sana dÃ¶nÃ¼k olur",
  "Ã¶zlemim bir deniz kÄ±yÄ±sÄ±dÄ±r",
  "bir umutla Ä±sÄ±nÄ±r tenim",
  "sensizliÄŸe karÅŸÄ± bir kalkan olur",
  "gÃ¶zlerimde en gÃ¼zel Ä±ÅŸÄ±k sensin",
  "ruhumda dinmeyen bir melodi Ã§Ä±kar",
  "her solukta adÄ±n yankÄ±lanÄ±r",
  "sevdam iz bÄ±rakÄ±r her kÃ¶ÅŸede",
  "kalbim seninle yeniden Ã§arpar",
  "her esen rÃ¼zgÃ¢r adÄ±nÄ± fÄ±sÄ±ldar",
  "bir Ã¶mÃ¼r seninle olur, yeter",
  "suskunluÄŸum sÃ¶zlere dÃ¶ner sana",
  "her gece adÄ±nÄ± sayarÄ±m mum gibi",
  "dilimde hep o eski dua sen olursun",
  "seninle tamamlanÄ±r her eksik yanÄ±m",
  "gÃ¶zlerim seni anar, zaman durur",
  "seninle var olur en gÃ¼zel baharÄ±m",
  "sana adanmÄ±ÅŸ bu Ã¶mÃ¼r mutlak senin"
];

const S4 = [
  "ve ben hep sana koÅŸarÄ±m.",
  "Ã§Ã¼nkÃ¼ tek sevdiÄŸim sensin.",
  "sana olan aÅŸkÄ±m sonsuzdur.",
  "kalbim hep seninle atar.",
  "sensiz bir dÃ¼nya dÃ¼ÅŸÃ¼nemem artÄ±k.",
  "adÄ±nla sÃ¼slÃ¼dÃ¼r her hayalim.",
  "gÃ¶nlÃ¼mÃ¼n en derin kÃ¶ÅŸesinde saklÄ±sÄ±n.",
  "ellerimi tut, zaman dursun.",
  "bu sevda hep taze kalsÄ±n.",
  "her adÄ±mda adÄ±nÄ± anarÄ±m.",
  "sana dair ne varsa kutsal bana.",
  "sen benim en gÃ¼zel tesadÃ¼fÃ¼msÃ¼n.",
  "dudaklarÄ±mda adÄ±n, gÃ¶nlÃ¼mde sen.",
  "birlikte geÃ§ecek tÃ¼m mevsimler bize.",
  "seninle her yol ebedileÅŸir.",
  "sÃ¶zler kifayetsiz, kalp anlatsÄ±n.",
  "sensin yÃ¼reÄŸimin en sÄ±cak yanÄ±.",
  "her gÃ¼nÃ¼mde senin izlerin var.",
  "bir Ã¶mÃ¼r yetmez seni sevmeye.",
  "sana adanmÄ±ÅŸ bir iki mÄ±sra deÄŸil tÃ¼m hayatÄ±m."
];

/* yardÄ±mcÄ±: rastgele sayÄ± */
function r(arr){ return Math.floor(Math.random()*arr.length); }

/* generate unique-ish quatrains; deterministic-ish but ok */
function makePoems(count){
  const set = new Set();
  const poems = [];
  let attempts = 0;
  while(poems.length < count && attempts < count*10){
    attempts++;
    const a = S1[r(S1)];
    const b = S2[r(S2)];
    const c = S3[r(S3)];
    const d = S4[r(S4)];
    const text = `${a}\n${b}\n${c}\n${d}`;
    if(!set.has(text)){
      set.add(text);
      // ÅŸair adÄ±nÄ± klasik tarzda varyasyonla Ã¼ret (ÅŸeffaf: Ã¶zgÃ¼n ÅŸair adÄ± deÄŸil)
      const poet = pickPoetName(poems.length);
      poems.push({text, poet});
    }
  }
  // eksikse tekrar doldur
  while(poems.length < count){
    const a = S1[r(S1)];
    const b = S2[r(S2)];
    const c = S3[r(S3)];
    const d = S4[r(S4)];
    const text = `${a}\n${b}\n${c}\n${d}`;
    const poet = pickPoetName(poems.length);
    poems.push({text, poet});
  }
  return poems;
}

/* poet isimleri havuzu â€” klasik tÄ±nÄ± veren, ama NOT gerÃ§ek alÄ±ntÄ± uyarÄ±sÄ± var Ã¼stte */
const POET_POOL = [
  "Gizli Åžair", "SÃ¶ylenmemiÅŸ MÄ±sra", "Klasik TÃ¼rkmen", "TaÅŸra AÅŸÄ±ÄŸÄ±", "Divan NidasÄ±",
  "YÃ¼rek Åžairi", "AÅŸÄ±k DerviÅŸ", "GÃ¶nÃ¼l BekÃ§isi", "SarÄ± Leyla", "HÃ¼sn-Ã¼ AÅŸk",
  "DÃ¶rdÃ¼ncÃ¼ Dize", "Eski Nefes", "Ruh Åžairi", "AÅŸkÄ± SÃ¶yleyen", "Mecnun'un Sesi",
  "GÃ¶nÃ¼l NakÄ±ÅŸÄ±", "Seyran Åžairi", "NazlÄ± Dura", "MÃ¢h-Ä± AÅŸk", "Hasret UstasÄ±",
  "DerviÅŸÃ¢n", "Åžehrin AÅŸÄ±ÄŸÄ±", "GÃ¼nÃ¼m Åžairi", "Gizli Bahar", "Kilim Åžairi",
  "MÄ±sra UstasÄ±", "Denizli AÅŸÄ±ÄŸÄ±", "VadÃ® Åžairi", "Nefes-i Sevda", "Eski SÃ¶zÃ¼"
];

function pickPoetName(i){
  return POET_POOL[i % POET_POOL.length];
}

/* --- load or create poems into localStorage --- */
function ensurePoems(){
  try{
    const raw = localStorage.getItem(STORAGE_POEMS);
    if(raw){
      const parsed = JSON.parse(raw);
      if(Array.isArray(parsed) && parsed.length >= POEM_COUNT) return parsed;
    }
  }catch(e){}
  // create and save
  const newPoems = makePoems(POEM_COUNT);
  try{ localStorage.setItem(STORAGE_POEMS, JSON.stringify(newPoems)); }catch(e){}
  return newPoems;
}

/* --- daily usage management --- */
function todayISO(){
  const d = new Date();
  return `${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}-${String(d.getDate()).padStart(2,"0")}`;
}
function loadUsage(){
  try{
    const sd = localStorage.getItem(STORAGE_DAY);
    let used = parseInt(localStorage.getItem(STORAGE_USED) || "0",10) || 0;
    const td = todayISO();
    if(sd !== td){
      localStorage.setItem(STORAGE_DAY, td);
      localStorage.setItem(STORAGE_USED, "0");
      return 0;
    }
    return Math.min(used, MAX_DAILY);
  }catch(e){ return 0; }
}
function saveUsage(used){
  try{ localStorage.setItem(STORAGE_DAY, todayISO()); localStorage.setItem(STORAGE_USED, String(used)); }catch(e){}
}

/* --- UI ve buton davranÄ±ÅŸÄ± --- */
const poems = ensurePoems();
let used = loadUsage();
const btn = document.getElementById('btnShow');
const remEl = document.getElementById('remaining');
const poemBox = document.getElementById('poemBox');
const poetEl = document.getElementById('poetName');

function updateUI(){
  const rem = Math.max(0, MAX_DAILY - used);
  remEl.textContent = rem;
  btn.disabled = rem <= 0;
  if(rem <= 0){
    poemBox.textContent = "BugÃ¼nlÃ¼k hakkÄ±n doldu â¤ï¸ YarÄ±n tekrar gel!";
    poetEl.textContent = "";
  }
}
function showRandom(){
  const idx = Math.floor(Math.random()*poems.length);
  const p = poems[idx];
  poemBox.textContent = p.text;
  poetEl.textContent = "â€” " + p.poet;
}

btn.addEventListener('click', () => {
  if(used >= MAX_DAILY){
    updateUI();
    alert("BugÃ¼nlÃ¼k ÅŸiir hakkÄ±n bitti ðŸ’• YarÄ±n tekrar gel!");
    return;
  }
  showRandom();
  used++;
  saveUsage(used);
  updateUI();
  if(used >= MAX_DAILY) alert("BugÃ¼nlÃ¼k ÅŸiir hakkÄ±n bitti ðŸ’•");
});

/* ilk yÃ¼kleme UI */
updateUI();
window.addEventListener('load', ()=>{
  if((MAX_DAILY - used) > 0){
    poemBox.textContent = "HoÅŸgeldin! Butona basÄ±nca klasik Ã¼slupta dÃ¶rtlÃ¼kler gÃ¶receksin. (" + (MAX_DAILY - used) + " hak kaldÄ±)";
  }
});
</script>
</body>
</html>